"use strict";
const distance_span = document.getElementById("distance"),
    serviceLat = 46.023373266213255,
    serviceLon = 14.540794469206393;

function getDistance(t, o, a, e) {
    const n = (a - t) * Math.PI / 180,
        i = (e - o) * Math.PI / 180,
        s = Math.sin(n / 2) * Math.sin(n / 2) + Math.cos(t * Math.PI / 180) * Math.cos(a * Math.PI / 180) * Math.sin(i / 2) * Math.sin(i / 2);
    return 6371 * (2 * Math.atan2(Math.sqrt(s), Math.sqrt(1 - s)))
}
"geolocation" in navigator ? navigator.geolocation.watchPosition((function(t) {
    const o = getDistance(t.coords.latitude, t.coords.longitude, serviceLat, serviceLon).toFixed(1);
    console.log(o), o < 1 && console.log("<1"), console.log(t.coords.latitude, t.coords.longitude), distance_span.innerHTML = `${o}Km`
}), (function(t) {
    console.error("Napaka pri pridobivanju lokacije: ", t.message)
}), {
    enableHighAccuracy: !0,
    timeout: 1e4,
    maximumAge: 0
}) : console.log("Geolokacija ni podprta v tem brskalniku.");